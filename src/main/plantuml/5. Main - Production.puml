@startuml
'https://plantuml.com/class-diagram'

abstract class Metadata <<Parent>>
{
    - Name: String
    - Description: String
    - Change: Change
}

entity Page
{
    - Sections: Set<Section>
    - Comments: Set<Comment>
}

entity Section
{
    - Items: Set<Item>
}

entity Item
{
    - Type: ItemType
    - Content: Content
}

enum ItemType
{
    LIST
    TEXT
    IMAGE
    VIDEO
}

entity Content <<(V, #229988)Embeddable>>
{
    - Text: String
    - Image: Buffer
}

entity Comment
{
    - String: Text
    - Change: Change
}

entity Account
{
    - FullName: String
    - Username: String
    - Password: String
    - Change: Change
    - AccountType: AccountType
}

enum AccountType
{
    USER
    EDITOR
    ADMIN
    OWNER
}

entity Change <<(V, #229988)Embeddable>>
{
    - Date: LocalDateTime
    - Type: ChangeType
}

enum ChangeType
{
    CREATE
    EDIT
    DELETE
}

Account .up. AccountType

Change -left-* Metadata
Change -right-> Account
Change -down-* Comment
Change .up. ChangeType

Comment -left-* Page

Page -up-|> Metadata

Section -up-|> Metadata
Section -right-* Page

Item -right-|> Metadata
Item -down-* Section
Item -left-> Content
Item .up. ItemType


@enduml